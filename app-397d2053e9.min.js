var myapp=angular.module("app",["ui.router"]);myapp.config(["$stateProvider","$urlRouterProvider",function(e,r){e.state("buy-record",{url:"/buy-record",templateUrl:"view/buy-record.html",controller:"buy-record-ctr"}).state("login",{url:"/login",templateUrl:"view/login.html",controller:"login-ctr"}).state("register",{url:"/register",templateUrl:"view/register.html",controller:"register-ctr"}).state("homepage",{url:"/homepage",templateUrl:"view/homepage.html",controller:"homepage-ctr"}).state("detailList",{url:"/detailList",templateUrl:"view/detailList.html",controller:"detailList-ctr"}).state("findPassword",{url:"/findPassword",templateUrl:"view/findPassword.html",controller:"findPassword-ctr"}).state("detail",{url:"/detail/:id",templateUrl:"view/detail.html",controller:"detail-ctr"}).state("fillIn",{url:"/fillIn/:id",templateUrl:"view/fillIn.html",controller:"fillIn-ctr"}).state("payPage",{url:"/payPage/:id",templateUrl:"view/payPage.html",controller:"payPage-ctr"}).state("payComplate",{url:"/payComplate/:id",templateUrl:"view/payComplate.html",controller:"payComplate-ctr"}).state("personCenter",{url:"/personCenter",templateUrl:"view/personCenter.html",controller:"personCenter-ctr"}).state("personCenter.personHomepage",{url:"/personHomepage",templateUrl:"view/personHomepage.html",controller:"personHomepage-ctr"}).state("personCenter.personMessage",{url:"/personMessage",templateUrl:"view/personMessage.html",controller:"personMessage-ctr"}).state("personCenter.personSafe",{url:"/personSafe",templateUrl:"view/personSafe.html",controller:"personSafe-ctr"}).state("personCenter.personBuy",{url:"/personBuy",templateUrl:"view/personBuy.html",controller:"personBuy-ctr"}).state("personCenter.personCircle",{url:"/personCircle",templateUrl:"view/personCircle.html"}),r.otherwise("/homepage")}]);
myapp.controller("detail-ctr",["$scope","$http","$stateParams",function(t,n,o){t.id=o.id,n({url:"json/detail.json"}).success(function(n){t.show=n.show[t.id],t.sort=n.sort}),t.index=1,t.clickFn=function(n){t.index=n}}]);
myapp.controller("detailList-ctr",["$scope","$http",function(n,t){t({url:"json/detail.json"}).success(function(t){n.show=t.show,n.sort=t.sort,n.a="",n.index=-1,n.clickFn=function(t,o){n.index=t,n.a=o},n.sortFn=function(t){return""==n.a||t.sort==n.a}})}]);
myapp.controller("fillIn-ctr",["$scope","$http","$stateParams",function(s,o,t){s.id=t.id,o({url:"json/detail.json"}).success(function(o){s.show=o.show[s.id],s.sort=o.sort})}]);
myapp.controller("findPassword-ctr",["$scope","$http","$interval",function(n,t,o){n.count="获取验证码",n.disabled=!1,n.code=function(){n.count=4,n.disabled=!0;var t=o(function(){n.count--},1e3,5);t.then(function(){n.disabled=!1,n.count="获取验证码"})}}]);
myapp.controller("homepage-ctr",["$scope","$http","$interval",function(n,o,e){o({url:"json/detail.json"}).success(function(o){n.show=o.show,n.sort=o.sort,n.showSort="微电影",n.index=0,n.clickFn=function(o,e){n.showSort=o,n.index=e},n.filterFn=function(o){return o.sort==n.showSort}}),n.showIndex=0,n.imgArr=["img/homepage-banner1.png","img/homepage-banner2.jpg"];var t=function(){return n.showIndex>=1?void(n.showIndex=0):void n.showIndex++},s=e(t,3e3);n.prev=function(){e.cancel(s),n.showIndex--,n.showIndex<0&&(n.showIndex=1),s=e(t,3e3)},n.next=function(){e.cancel(s),n.showIndex++,n.showIndex>1&&(n.showIndex=0),s=e(t,3e3)},n.stop=function(o){e.cancel(s),n.showIndex=o},n.start=function(){s=e(t,3e3)}}]);
myapp.controller("login-ctr",["$scope","$http",function(o,t){}]);
myapp.controller("payComplate-ctr",["$scope","$http","$stateParams",function(o,s,t){o.id=t.id,s({url:"json/detail.json"}).success(function(s){o.show=s.show[o.id],o.sort=s.sort})}]);
myapp.controller("payPage-ctr",["$scope","$http","$stateParams",function(s,o,t){s.id=t.id,o({url:"json/detail.json"}).success(function(o){s.show=o.show[s.id],s.sort=o.sort})}]);
myapp.controller("personBuy-ctr",["$scope","$http",function(t,e){e({url:"json/person.json"}).success(function(e){t.message=e.message,t.myAttentionShow=e.myAttentionShow,t.myshow=e.myShow,console.log(t.myshow)}),t.stateId=2,t.myFilter="",t.stateClick=function(e){t.stateId=e,t.myFilter=["0","1",""][e]},t.filterFn=function(e){return""==t.myFilter||e.payState==t.myFilter}}]);
myapp.controller("personCenter-ctr",["$scope","$http",function(o,n){n({url:"json/person.json"}).success(function(n){o.message=n.message,o.myAttentionShow=n.myAttentionShow,o.myshow=n.myshow})}]);
myapp.controller("personHomepage-ctr",["$scope","$http","$timeout",function(o,e,s){e({url:"json/person.json"}).success(function(e){o.message=e.message,o.myAttentionShow=e.myAttentionShow,o.myshow=e.myshow})}]);
myapp.controller("personMessage-ctr",["$scope","$http",function(o,s){s({url:"json/person.json"}).success(function(s){o.message=s.message,o.myAttentionShow=s.myAttentionShow,o.myshow=s.myshow,o.sort=s.sort}),o.arr=[],o.checkFn=function(s){o.arr[s]=!o.arr[s]}}]);
myapp.controller("personSafe-ctr",["$scope","$http",function(t,e){e({url:"json/person.json"}).success(function(e){t.message=e.message,t.myAttentionShow=e.myAttentionShow,t.myshow=e.myShow}),t.stateId=0,t.myFilter="",t.stateClick=function(e){t.stateId=e}}]);
myapp.controller("register-ctr",["$scope","$http","$interval",function(n,t,c){n.count="获取验证码",n.disabled=!1,n.code=function(){n.count=4,n.disabled=!0;var t=c(function(){n.count--},1e3,5);t.then(function(){n.disabled=!1,n.count="获取验证码"})}}]);